---
title: 1.小鲸鱼大事记
date: 2022-01-12
tags:
 - k8s
describe: 开始学习 k8s 之旅
---

> 了解容器

### 历史演进

1. 在 13 年以前，以 Cloud Foundry 为代表的开源 PaaS 项目，在当时的云计算领域，独领风骚
   1. 它主要提供了一种**应用托管**的能力
   2. PaaS 项目的出现，是当时在云端虚拟机上更好地模拟本地服务器环境的一个最佳方案
   3. 在一个虚拟机上启动很多个来自不同用户的应用， CF 会调用操作系用的 Cgroups 和 NameSpace 机制为每个应用单独创建了一个称作“沙盒”的隔离环境，然后在 “沙盒” 中启动这些应用进程。这样，多个应用之间互不影响
   4. 这些 “沙盒”，就是所谓的 “容器”
   5. 诟病：一旦用上 PaaS，用户就必须为每种语言、框架，甚至每个版本的应用维护一个打好的包，而整个打包简直 “妙不可言”
2. Docker 和 PaaS 大同小异，它能决胜 PaaS 的关键在于—— **Docker 镜像**
3. Docker 镜像解决的，就是打包的问题，所谓镜像，就是一个把完整的操作系统文件和目录打包成的压缩包
4. 这个压缩包包含了应用运行所需要的所有依赖，所以我们不需要进行任何配置或修改，它提供了**本地环境和云端环境的高度一致**的能力！——这就是 Docker 镜像的精髓

Docker 项目在短时间内迅速崛起的三大原因：

1. Docker 镜像通过技术手段解决了 PaaS 的根本性问题（打包）
2. Docker 容器同开发者之间有着与生俱来的密切关系
3. PaaS 概念深入人心的完美契机

### 容器编排

Docker 在大紫大红之后，收购了一个名为 Fig 的项目，这个项目在当时的 Github 上堪比 Docker，而它之所以这么受欢迎，是因为它提出了**容器编排（Container Orchestration）** 的概念。

> 编排：主要是指用户如何通过某些工具或者配置来完成一组虚拟机以及关联资源的定义、配置、创建、删除等工作，然后由云计算平台按照这些指定的逻辑来完成的过程。

在容器时代，编排显然就是对 Docker 容器的一系列定义、配置和创建动作的管理。而 Fig 的工作实际上很简单：假如现在用户需要部署的是的应用容器A、数据库容器 B、负载均衡容器C，那么 Fig 就允许用户把A、B、C三个容器定义在一个配置文件中，并且可以指定它们之间的关联关系，比如容器A需要访问数据库容器B。

只需要执行 `fig up` ，即可把这些容器的定义和配置交给 Docker API 按照访问逻辑依次创建，你的一系列容器就都启动了，而容器 A 和 B 之间的关联关系，也会交给 Docker 的 Link 功能通过写入 hosts 文件的方式进行配置。

在 14 年 6 月，谷歌正式发布了 Kubernetes。

在未来的两年内，Docker 公司面对 Kubernetes  的迅速发展，不得不接受自己豪赌失败的现实。将 Docker 项目的容器运行时部分 Containerd 捐赠给了 CNCF 社区，又将 Docker 项目改名为 Moby，然后交给社区自行维护。